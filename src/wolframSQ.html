<!-- Wolfram's Nearest Neighbor Sequential Simulation Page -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">  <!-- Set the character encoding to UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  <!-- Define the viewport for responsive design -->
    <title> Celite - Sequential WNN </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!-- Link to online library for icons -->
    <link rel="stylesheet" type="text/css" href="../styles/global.css">  <!-- Link to global CSS styles -->
    <link rel="stylesheet" type="text/css" href="../styles/wolframSQ.css">  <!-- Link to home specific CSS styles -->
    <link rel="icon" href="../images/cellular_automata_icon.png">  <!-- Link page icon -->
  </head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js"> </script> <!-- Connect online Javascript library to capture canvas as a PDF -->
  <script type="module" src="../src/js/wolframSQ/generateLattice.js" crossorigin="anonymous"> </script> <!-- Connect Javascript for lattice calculation -->
  <script type="module" src="../src/js/wolframSQ/cellClass.js"> </script> <!-- Connect Javascript for cell creation -->
  <script type="module" src="../src/js/wolframSQ/displayLattice.js"> </script> <!-- Connect Javascript for lattice display -->
  <script type="module" src="../src/js/wolframSQ/UIFunctionality.js"> </script> <!-- Connect Javascript for user interface -->
  <script type="module" src="../src/js/wolframSQ/logClass.js"> </script> <!-- Connect Javascript for logbox functionality -->
  <body>
    <!-- Navigation Bar-->
    <header>
      <div class="navbar">
        <a href="../src/index.html" class="logo">
          <img src="../images/cellular_automata_logo.png" alt="Logo" width="70" height="70">
        </a>
        <a href="../src/index.html"> Home </a>  <!-- Link to the home page -->
        <!-- Dropdown menu for simulators -->
        <div class="dropdown">
          <button class="drop_button"> Simulators <i class="fa fa-caret-down"> </i> </button>
          <!-- Dropdown items -->
          <div class="dropdown_item">
            <a href="../src/wolframPR.html"> Parallel WNN </a>  <!-- Link to Wolfram's Nearest Neighbor Parallel Simulation Page -->
            <a href="../src/wolframSQ.html"> Sequential WNN </a>  <!-- Link to Wolfram's Nearest Neighbor Sequential Simulation Page -->
            <a href="../src/conway.html"> Game of Life </a>  <!-- Link to Conway's Game of Life Simulation Page -->
          </div>
        </div>
        <a href="../src/documentation.html"> Documentation </a>  <!-- Link to the documentation page -->
        <a href="../src/about.html"> Collaborators </a>  <!-- Link to the about page -->
        <a href="https://github.com/ktranfaglia1/COSC425" target="_blank"> Source </a>  <!-- Link to the source code page -->
      </div>
      <h1 class="head"> Wolfram's Nearest Neighbor Sequential </h1> <hr>
    </header>
    <!-- Primary tool bar containing input boxes and options to manipulate the simulation -->
    <div class="primary_toolbar">
      <!-- Container for iteration input box -->
      <div class="input_container">
        <label for="iterationInputBox" class="input_label"> Iterations:</label>
        <input type="text" id="iterationInputBox" class="simulation_input" placeholder="Enter # of iterations...">
        <button id="iterationSubmit" class="submit_button"> Enter </button>
      </div>
      <!-- Container for rule input box -->
      <div class="input_container">
        <label for="ruleInputBox" class="input_label"> Rule: </label>
        <input type="text" id="ruleInputBox" class="simulation_input" placeholder="Enter rule # (0-255)...">
        <button id="ruleSubmit" class="submit_button"> Enter </button>
      </div>
      <!-- Container for lattice size input box -->
      <div class="input_container">
        <label for="latticeSizeBox" class="input_label"> Lattice: </label>
        <input type="text" id="latticeSizeBox" class="simulation_input" placeholder="Enter lattice size...">
        <button id="latticeSizeSubmit" class="submit_button"> Enter </button>
      </div>
      <label class="input_label"> Boundary: </label>
      <!-- Create periodic checkbox -->
      <div class="checkbox_container" id="periodicCheckBox">
        <input type="checkbox" class="checkbox_select">
        <label class="checkbox_label"> Periodic </label>
      </div>
      <!-- Create null checkbox -->
      <div class="checkbox_container" id="nullCheckBox">
        <input type="checkbox" class="checkbox_select">
        <label class="checkbox_label"> Null </label>
      </div>
    </div>
    <!-- Secondary tool bar containing main buttons and log box for simulation -->
    <div class="secondary_toolbar">
      <button id="startStopButton" class="start_button"> Start </button>
      <button id="iterateButton" class="simulation_button"> Iterate </button>
      <button id="clearResetButton" class="simulation_button"> Clear </button>
      <button id="optionsButton" class="simulation_button"> Options </button>
      <button id="setupButton" class="simulation_button"> Setup </button>
      <button id="simulateButton" class="setup_button"> Simulate </button>
      <button id="voidButton" class="setup_button"> Clear </button>
      <button id="libraryButton" class="setup_button"> Library </button>
      <button id="helpButton" class="setup_button"> Help </button>
      <canvas id="logRegion" class="log_box"> </canvas> <!-- Display region for the logs -->
    </div>
    <div id="iterationOutput" class="iteration_output"> </div> <!-- Output region for iteration count -->
    <!-- Canvas region for lattice display and overlapping canvas for iteration tickmark -->
    <center>
      <canvas id="latticeRegion" class="lattice_region"> </canvas>
      <canvas id="tickmarkRegion" class="tickmark_region"> </canvas>
    </center>
    <!-- Options window to provide advanced options for simulator -->
    <div id="optionsContainer" class="options_container">
      <div id="optionsContent" class="options_content">
        <span class="close"> &times; </span>
        <h4> Options </h4>
         <!-- Buttons -->
        <hr>
        <button id="downloadPDFButton" class="options_button"> Download PDF </button>
        <button id="downloadPNGButton" class="options_button"> Download PNG </button>
        <hr>
        <button id="latticeFillButton" class="options_button"> Lattice Fill </button>
        <button id="randomFillButton" class="options_button"> Random Fill </button>
        <hr>
        <!-- Toggles -->
        <div class="p1"> Iteration Box </div>
        <div class="input_container">
          <label class="toggle_label"> Off </label>
          <div class="options_toggle_bar" id="iterationToggle">
            <div class="toggle_button"> </div>
          </div>
          <label class="toggle_label"> On </label>
        </div>
        <div class="p1"> Cell Border </div>
        <div class="input_container">
          <label class="toggle_label"> Off </label>
          <div class="options_toggle_bar" id="borderToggle">
            <div class="toggle_button"> </div>
          </div>
          <label class="toggle_label"> On </label>
        </div>
        <hr>
        <!-- Speed Slider -->
        <div class="slider_container">
          <div class="p1"> Delay: <span id="iterationSpeedValue"> </span> ms </div>
          <input type="range" min="0" max="2000" value="750" class="slider" id="iterationSpeedSlider">
        </div>
        <hr>
        <!-- Color Picker -->
        <div class="color_wrapper">
          <div class="color_container">
            <label class="color_label"> Dead Cell </label>
            <input type="color" class="color_picker" id="deadCell" name="deadCell" value="#ffffff">
          </div>
          <div class="color_container">
            <label class="color_label"> Alive Border </label>
            <input type="color" class="color_picker" id="aliveBorder" name="aliveBorder" value="#000000">
          </div>
        </div>
        <div class="color_wrapper">
          <div class="color_container">
            <label class="color_label"> Alive Cell </label>
            <input type="color" class="color_picker" id="aliveCell" name="aliveCell" value="#000000">
          </div>
          <div class="color_container">
            <label class="color_label"> Dead Border </label>
            <input type="color" class="color_picker" id="deadBorder" name="deadBorder" value="#777777">
          </div>
        </div>
      </div>
    </div>
    <div id="libraryContainer" class="library_container">
      <div id="libraryContent" class="library_content">
        <span class="close">&times; </span>
        <h2> Algorithm Configuration Library </h2>
        <div class="library_box"> 
          <h3> Random </h3>
          <p> TBD... </p>
          <div class="center_img">
            <button id="random" class="library_img"> </button>
          </div>
        </div>
        <div class="library_box"> 
          <h3> Left to Right </h3>
          <p> TBD... </p>
          <div class="center_img">
            <button id="left2right" class="library_img"> </button>
          </div>
        </div>
        <div class="library_box"> 
          <h3> Right to Left </h3>
          <p> TBD... </p>
          <div class="center_img">
            <button id="right2left" class="library_img"> </button>
          </div>
        </div>
        <div class="library_box"> 
          <h3> Center Outward </h3>
          <p> TBD... </p>
          <div class="center_img">
            <button id="centerOutward" class="library_img"> </button>
          </div>
        </div>
        <div class="library_box"> 
          <h3> Edges Inward </h3>
          <p> TBD... </p>
          <div class="center_img">
            <button id="edgesInward" class="library_img"> </button>
          </div>
        </div>
      </div>
    </div>
    <div id="helpContainer" class="about_container">
      <div id="helpContent" class="about_content">
        <span class="close">&times; </span>
        <h2> Algorithm Configuration Assistance </h2>
        <h3> User Guide </h3>
        <p> Visit the Documentation page: <a href="../src/documentation.html#primaryToolbar2"> Go to Documentation! </a> </p>
        <h3> What is Setup Mode? </h3>
        <p> Setup mode is an interface unique to the Sequential Wolfram Nearest Neighbor Simulator. It is activated
          upon page load (opening the simulator), changing the lattice size, and clicking the "setup" button. In
          setup mode, simulation is not possible as this mode is designed to prepare and configure the algorithm
          for sequential simulation. By default, setup mode applies a left to right configuration for sequential 
          simulation, but the user has complete control of algorithm configuration at any point. Selecting a cell
          ordering is significant to the sequential simulator as it greatly expands the capabilities and uniqueness of
          the simulation; it greatly surpases the uniqueness and complexity of the Parallel Wolfram Nearest Neighbor
          Simulator. Selecting an order is not mandatory nor necessary as a default ordering will be appllied, yet it is 
          strongly recommended to configure an ordering in setup mode and explore the vast capabilities of the program.
        </p>
        <h3> What is sequential simulation? </h3>
        <p> In the sequential implementation of the Wolfram nearest neighbor algorithm, the state of each cell in a lattice is 
          updated one at a time, with each update using the results from previous cells in the same iteration. This causes a 
          cascading effect, where the outcome for a cell depends on the already updated state of its neighbors, which may have 
          been changed earlier in the same iteration. One at a time, the algorithm examines each cell in the lattice, updating
          it based on its nearest neighbors' states. However, unlike a parallel version where all cells are updated simultaneously, 
          the state of each cell is altered as the algorithm proceeds across the lattice in the configured order. Since the state
          of a cell is modified before moving to another cell, it may be influenced by the newly updated state of the previous cell,
          leading to a dependency chain within the same iteration. In each iteration, the algorithm performs updates sequentially, 
          meaning that the effect of earlier updates propagates forward, and the end of the lattice may look quite different from 
          the start, depending on the order in which cells were updated. Overall, this can lead to more complex, evolving behavior 
          within a single iteration due to the cascading updates, making it more natural for modeling processes where local changes 
          propagate gradually.</p>
        <h3> How to configure cell ordering? </h3>
        <p> In setup mode, clicking a cell does not toggle it between dead and alive states, but rather, it sets the chronological 
          ordering such that a number will be set to the cell. The numbers are stored in stack that is in decending order from
          one to the lattice size. Clicking a cell will set it to the number at the top of the stack, so if an order was already half
          selected and the cell set as six was selected again, it would be removed and six would be put back in the stack, meaning that 
          the next cell clicked would be ordered at six. Keep in mind, the configuration has no limitations as long as each cell is 
          given an order in the sequence. For instance, it is not required that the sequence follows a particular pattern nor does 
          a cell and its neighbor need to be close in ordering. Ordering the cells with a number simply communicates to the algorithm 
          which cell to first apply the algorithm and then what cell to proceed, up until the final ordered cell in which the iteration 
          is then complete. Cells may be numbered by clicking them individually or by clicking and draging, which will chronologically 
          order the cells that were clicked during the event. Note that the cell ordering can be changed at any time by clearing with 
          the "Clear" button or clicking an already ordered cell in setup mode. If it is desired to change the ordering while in 
          simulate mode, click the "setup" button to view the current cell ordering and alter it as desired. Additionally cell 
          ordering can be skipped (simulate without selecting order) as it will default to a left to right ordering.
        </p>
        <h3> What is the Library? </h3>
        <p> The library in setup mode is a collection of sequential ordering presets. The presets provided are common orderings
          that tend to produce interesting outputs in concordance with the rule number selected in simulate mode. Overall, the 
          presets are relatively basic and patterned (except for random ordering) but produce complex models. It is recommended 
          to explore the vast configuration options by individually selecting cells for an order, but the library is useful for 
          quick and convenient ordering. Utilize the library by clicking a preset button to apply the ordering outlined in the 
          preset description. The ordering will be displayed in setup mode and then the "Simulate" button must be clicked in
          order proceed to simulation mode, which will use the selected ordering. Before entering simulate mode, the cell 
          ordering displayed with the library preset may be altered as desired. 
        </p>
      </div>
    </div>
    <div class="Dustin"></div>
  </body>
</html>